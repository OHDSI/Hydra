<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hydrating packages â€¢ Hydra</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Hydrating packages">
<meta property="og:description" content="Hydra">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Hydra</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/HydratingPackages.html">Hydrating packages</a>
    </li>
    <li>
      <a href="../articles/WritingHydraConfigs.html">Writing Hydra configuration files</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://ohdsi.github.io/Hades" class="external-link"><img src='https://ohdsi.github.io/Hades/images/hadesMini.png' width=80 height=17 style='vertical-align: top;'></a>
</li>
<li>
  <a href="https://github.com/OHDSI/Hydra/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Hydrating packages</h1>
                        <h4 data-toc-skip class="author">Martijn J.
Schuemie</h4>
            
            <h4 data-toc-skip class="date">2022-03-31</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/OHDSI/Hydra/blob/HEAD/vignettes/HydratingPackages.Rmd" class="external-link"><code>vignettes/HydratingPackages.Rmd</code></a></small>
      <div class="hidden name"><code>HydratingPackages.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette describes how the Hydra package can be used to create
study R packages. The Hydra package contains several <em>skeletons</em>,
empty R packages which contain the main machinery for executing a study
but lack the details of a specific study. Using Hydra, we can hydrate
these skeletons to implement a specific study using the study
specifications stored in a JSON file. This JSON fully describes the
study, including the cohorts that are to be used, as well as the
analyses to perform. This JSON input can be created in the OHDSI
web-based tool <a href="http://atlas-demo.ohdsi.org/" class="external-link">ATLAS</a>. The
output of Hydra is an R package that fully executes the user-defined
study, from the data in the Common Data Model all the way to the results
which can be viewed in a Shiny app embedded in the study package.</p>
</div>
<div class="section level2">
<h2 id="obtaining-the-json">Obtaining the JSON<a class="anchor" aria-label="anchor" href="#obtaining-the-json"></a>
</h2>
<p>The first step is to fully define the study in <a href="http://atlas-demo.ohdsi.org/" class="external-link">ATLAS</a>. This can be an estimation
study or a prediction study. Once completed, we need to obtain the JSON.
We can obtain the JSON from the Export tab in the Utilities tab, as
shown in Figure 1.</p>
<div class="figure" style="text-align: center">
<img src="atlas.png" alt="Obtaining the JSON specifications from ATLAS" width="100%"><p class="caption">
Obtaining the JSON specifications from ATLAS
</p>
</div>
<p>Select all the JSON text (for example using Ctrl-a on Windows), copy
it, and paste it into a text file. Save the text file somewhere on your
computer, for example as <code>c:/temp/specs.json</code>.</p>
</div>
<div class="section level2">
<h2 id="installing-hydra">Installing Hydra<a class="anchor" aria-label="anchor" href="#installing-hydra"></a>
</h2>
<p>To run Hydra, you will need both R and Java to be installed. See the
instructions <a href="https://ohdsi.github.io/Hades/rSetup.html" class="external-link">here</a> for
configuring your R environment, including Java.</p>
<p>In R, you can install Hydra using these commands:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://remotes.r-lib.org" class="external-link">remotes</a></span><span class="op">)</span>
<span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"ohdsi/Hydra"</span><span class="op">)</span> </code></pre></div>
</div>
<div class="section level2">
<h2 id="hydrating-the-package">Hydrating the package<a class="anchor" aria-label="anchor" href="#hydrating-the-package"></a>
</h2>
<p>We can now use Hydra to generate the study package by hydrating one
of the skeletons embedded in Hydra. Note that Hydra automatically
selects the appropriate skeleton based on the JSON.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ohdsi.github.io/Hydra" class="external-link">Hydra</a></span><span class="op">)</span>

<span class="va">specifications</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/loadSpecifications.html">loadSpecifications</a></span><span class="op">(</span><span class="st">"c:/temp/specs.json"</span><span class="op">)</span>

<span class="fu"><a href="../reference/hydrate.html">hydrate</a></span><span class="op">(</span>specifications <span class="op">=</span> <span class="va">specifications</span>,
        outputFolder <span class="op">=</span> <span class="st">"c:/temp/MyStudyPackage"</span>,
        packageName <span class="op">=</span> <span class="st">"StudyPackage"</span><span class="op">)</span></code></pre></div>
<p>Here we load the JSON specifications file, and feed it into the
<code><a href="../reference/hydrate.html">hydrate()</a></code> function. We specify two additional arguments:
The <code>outputFolder</code> is the folder where the R package will be
created. The <code>packageName</code> specifies the name of the R
package that will be created.</p>
<p>You can now open the new package, for example in RStudio.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Martijn Schuemie, Jenna Reps, Anthony Sena.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
